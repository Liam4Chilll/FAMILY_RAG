<p align="center">
  <img src="https://img.shields.io/badge/Python-3.11-3776AB?style=for-the-badge&logo=python&logoColor=white" alt="Python"/>
  <img src="https://img.shields.io/badge/FastAPI-0.115-009688?style=for-the-badge&logo=fastapi&logoColor=white" alt="FastAPI"/>
  <img src="https://img.shields.io/badge/Docker-24.0-2496ED?style=for-the-badge&logo=docker&logoColor=white" alt="Docker"/>
  <img src="https://img.shields.io/badge/Ollama-0.13+-000000?style=for-the-badge&logo=ollama&logoColor=white" alt="Ollama"/>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/LangChain-0.3-1C3C3C?style=for-the-badge&logo=langchain&logoColor=white" alt="LangChain"/>
  <img src="https://img.shields.io/badge/FAISS-Vector_DB-0467DF?style=for-the-badge&logo=meta&logoColor=white" alt="FAISS"/>
  <img src="https://img.shields.io/badge/Ministral_3-Vision-FF6B6B?style=for-the-badge&logo=mistral&logoColor=white" alt="Ministral 3"/>
  <img src="https://img.shields.io/badge/Tesseract-OCR-5A5A5A?style=for-the-badge&logo=google&logoColor=white" alt="Tesseract"/>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Apple_Silicon-M1%2FM2%2FM3-000000?style=for-the-badge&logo=apple&logoColor=white" alt="Apple Silicon"/>
  <img src="https://img.shields.io/badge/License-MIT-green?style=for-the-badge" alt="License"/>
</p>

---

<h1 align="center">ğŸ“š FamilyRAG 2.6</h1>

<h3 align="center">
  <em>Votre bibliothÃ¨que numÃ©rique privÃ©e â€” maintenant avec une prÃ©cision dÃ©cuplÃ©e</em>
</h3>

<p align="center">
  Posez des questions Ã  vos documents en langage naturel.<br/>
  Sans cloud. Sans abonnement. Sans compromis sur la vie privÃ©e.
</p>

---

## ğŸ  Qu'est-ce que FamilyRAG ?

**FamilyRAG** est un systÃ¨me RAG (Retrieval-Augmented Generation) entiÃ¨rement local, conÃ§u pour les familles qui souhaitent exploiter la puissance de l'IA gÃ©nÃ©rative tout en gardant le contrÃ´le total sur leurs donnÃ©es.

Imaginez pouvoir interroger en langage naturel :
- ğŸ“„ Les documents administratifs de la famille
- ğŸ“– Les recettes de grand-mÃ¨re numÃ©risÃ©es
- ğŸ–¼ï¸ Les photos de documents et textes scannÃ©s (OCR + Vision IA)
- ğŸ“ Les cours et devoirs des enfants
- ğŸ“§ Les archives emails importantes
- ğŸ“š Votre bibliothÃ¨que personnelle de livres et articles

**Le tout sans qu'une seule donnÃ©e ne quitte votre domicile.**

---

## âœ¨ NouveautÃ©s v2.6

### ğŸ¯ PrÃ©cision RAG +65%

La v2.6 reprÃ©sente une refonte majeure du pipeline de recherche :

- **Re-ranking LLM** â€” Chaque chunk est rÃ©Ã©valuÃ© sÃ©mantiquement par le LLM, Ã©liminant les faux positifs
- **MÃ©tadonnÃ©es enrichies** â€” Date, annÃ©e, type de document et auteur extraits automatiquement
- **Chunking intelligent** â€” PrÃ©serve la structure (articles, listes, tableaux) au lieu de couper arbitrairement
- **Citations obligatoires** â€” Chaque rÃ©ponse cite ses sources `[document.pdf]`

### ğŸ”§ ContrÃ´le total depuis l'interface

- **SÃ©lection du modÃ¨le LLM** â€” Changez de modÃ¨le en un clic, sans redÃ©marrage
- **SÃ©lection du modÃ¨le d'embedding** â€” Passez de `nomic-embed-text` Ã  `mxbai-embed-large` instantanÃ©ment
- **Debug chunks** â€” Visualisez exactement quels passages ont Ã©tÃ© rÃ©cupÃ©rÃ©s et leur score

### ğŸ’¬ Historique des conversations

- Sidebar avec toutes vos conversations
- Reprenez une discussion lÃ  oÃ¹ vous l'avez laissÃ©e
- SÃ©lection de sources par conversation

### ğŸ¨ 3 ThÃ¨mes UI

- **Midnight** â€” Bleu acier, sobre et professionnel
- **Cyber** â€” Cyan nÃ©on, ambiance tech
- **Tactical** â€” Vert militaire, rouge accent

### ğŸ“ FonctionnalitÃ©s v2.5 conservÃ©es

- Upload d'images dans le chat (glisser-dÃ©poser ou ğŸ“)
- Analyse vision via Ministral 3
- Bouton Stop pour interrompre une gÃ©nÃ©ration
- ArriÃ¨re-plan avec formes gÃ©omÃ©triques flottantes

---

## ğŸ“Š Gains de prÃ©cision v2.5 â†’ v2.6

| MÃ©trique | v2.5 | v2.6 |
|----------|------|------|
| Chunks rÃ©cupÃ©rÃ©s | 4 | 12 |
| RÃ©ponses avec citations | ~30% | ~85% |
| Faux positifs | ~40% | ~10% | -75% |
| **PrÃ©cision globale** | **~45%** | **~75%** |

---

## ğŸ—‚ï¸ Formats supportÃ©s

<p align="center">
  <img src="https://img.shields.io/badge/PDF-Documents-EC1C24?style=for-the-badge&logo=adobe-acrobat-reader&logoColor=white" alt="PDF"/>
  <img src="https://img.shields.io/badge/TXT-Texte-4A4A4A?style=for-the-badge&logo=textpattern&logoColor=white" alt="TXT"/>
  <img src="https://img.shields.io/badge/MD-Markdown-000000?style=for-the-badge&logo=markdown&logoColor=white" alt="MD"/>
  <img src="https://img.shields.io/badge/DOCX-Word-2B579A?style=for-the-badge&logo=microsoft-word&logoColor=white" alt="DOCX"/>
  <img src="https://img.shields.io/badge/EML-Email-005FF9?style=for-the-badge&logo=mail.ru&logoColor=white" alt="EML"/>
  <img src="https://img.shields.io/badge/JPG-Image-FFD700?style=for-the-badge&logo=image&logoColor=black" alt="JPG"/>
  <img src="https://img.shields.io/badge/PNG-Image-FFD700?style=for-the-badge&logo=image&logoColor=black" alt="PNG"/>
</p>

**Images** : OCR Tesseract (indexation) + Vision Ministral 3 (analyse Ã  la demande)

---

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MacBook (Apple Silicon)                    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     Ollama      â”‚â—„â”€â”€â”€â”€â”€â”€â–ºâ”‚     Docker Container           â”‚  â”‚
â”‚  â”‚   (natif Mac)   â”‚  API   â”‚                                â”‚  â”‚
â”‚  â”‚                 â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â€¢ ministral-3   â”‚        â”‚  â”‚  FastAPI + FAISS         â”‚  â”‚  â”‚
â”‚  â”‚ â€¢ nomic-embed   â”‚        â”‚  â”‚  + LangChain + Tesseract â”‚  â”‚  â”‚
â”‚  â”‚                 â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                                â”‚  â”‚
â”‚          â”‚                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚          â”‚ GPU              â”‚  â”‚  WebUI (3 thÃ¨mes)        â”‚  â”‚  â”‚
â”‚          â–¼                  â”‚  â”‚  Tailwind + Alpine       â”‚  â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  Apple Silicon  â”‚        â”‚                                â”‚  â”‚
â”‚  â”‚   M1/M2/M3      â”‚        â”‚        localhost:8000          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â–²                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚                        â”‚
â”‚  â”‚  ğŸ“ Vos Docs    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚  â”‚  (RAG folder)   â”‚  volume mount                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## PrÃ©requis

- **Ollama 0.13.1+** (requis pour Ministral 3)
- Docker Desktop

```bash
# VÃ©rifier la version Ollama
ollama --version
```

---

## Installation

### 1. Cloner et configurer

```bash
git clone https://github.com/Liam4Chilll/family-rag.git
cd family-rag
cp .env.example .env
```

Ã‰diter `.env` pour dÃ©finir le chemin vers vos documents :

```bash
nano .env
# Modifier HOST_DATA_PATH=/chemin/vers/vos/documents
```

### 2. Installer les modÃ¨les Ollama

```bash
# ModÃ¨le de gÃ©nÃ©ration + vision (recommandÃ©)
ollama pull ministral-3:latest

# Ou autres modÃ¨les de gÃ©nÃ©ration
ollama pull qwen2.5:7b
ollama pull mistral:latest

# ModÃ¨le d'embedding (obligatoire)
ollama pull nomic-embed-text
```

### 3. Lancer

```bash
docker compose up -d --build
```

### 4. C'est prÃªt !

Ouvrez **http://localhost:8000** ğŸ‰

---

## ğŸ“– Documentation

| Guide | Description |
|-------|-------------|
| [Administration](docs/MANAGE.md) | Gestion, diagnostic et maintenance |
| [Migration v2.6](docs/MIGRATION_v2_6.md) | Mise Ã  jour depuis v2.5 |
| [Changelog](CHANGELOG.md) | Historique complet des versions |

---

## ğŸ“œ Licence

Ce projet est distribuÃ© sous licence **MIT**.

---

<p align="center">
  <strong>Construit avec â¤ï¸ par <a href="https://github.com/Liam4Chilll">Liam4Chilll</a></strong>
</p>

<p align="center">
  <em>FamilyRAG â€” Parce que vos donnÃ©es familiales mÃ©ritent de rester en famille.</em>
</p>
